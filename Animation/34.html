<!DOCTYPE html>
<html>

 <meta charset="utf-8">

 <head>
 <style>
     #myCanvas {
         border: 1px solid black;
     }
 </style>

 </head>
 
 
 
 
 
 
<body onload="init();">
    <canvas id="myCanvas" width="500" height="500">
        Your browser does not support the canvas tag.
    </canvas>
    <p>
    <button onclick="start()">Start animation</button>
    <button onclick="stop()">Stop animation</button>
    
    
    
    
    <script>
        var canvas, ctx;
        var r = 10;
        //var Lx = canvas.width;
        //var Ly = canvas.height;
        
        var X = 500/2   //Math.random()*100
        var Y = 500/2  //Math.random()*100
        
        
        
        function init() {
            // This function is called after the page is loaded
            // 1 - Get the canvas
            canvas = document.getElementById('myCanvas');
            // 2 - Get the context
            ctx=canvas.getContext('2d');
        }
        
        
        
        
        function animationLoop() {
            // 1 - Clear the canvas
            ctx.clearRect(0, 0, canvas.width, canvas.height);
            // 2 Draw the circle using variables for pos, angle, etc.
            
            drawCircle(X, Y);
            // 3 Move the circle (change pos, angle, size, etc.)
            
            var t1 = Math.random()*100;
            var t2 = Math.random()*100;
            
            
            if (t1<5){
               var dir1 = -1;
               }else{
               var dir = 1;}
             if (t2<5){
               var dir2 = -1;
               }else{
               var dir2 = 1;}
                  
            X += t1 //dir1*1;
            Y += t2 //dir2*1;
     
           X %= canvas.width;
           Y %= canvas.height;
         
         
           // if(X > 0){
           // X %= canvas.width;
           // }else{
           // X = X + canvas.width};
            
           // if(Y > 0){
          //  Y %= canvas.height;
          //  }else{
          //  Y = Y + canvas.height}; 
           
           
        }
        
        
        
  
   
  function drawCircle(x, y) {   
     // GOOD PRACTICE : SAVE CONTEXT AND RESTORE IT AT THE END
     ctx.save();
     
     // Moves the coordinate system so that the monster is drawn
     // at position (x, y)
     ctx.translate(x, y);
     ctx.fillStyle = 'blue';
     ctx.beginPath()
     ctx.arc(0, 0, r, 0*Math.PI,2*Math.PI);
     ctx.closePath()
     ctx.fill()
     
     // GOOD PRACTICE !
     ctx.restore();
   }
    
   
   
   
   
     function start() {
         // Start the animation loop, change 20 for bigger values
         requestId = setInterval(animationLoop, 20);
     }
     function stop() {
         if (requestId) {
             clearInterval(requestId);
         }
     }
     
     
     
</script>
</body>


</html>